# Java常用类详解

## Object类

### 概述
Object类是所有Java类的根父类，每个类都直接或间接继承Object类。

### 常用方法

#### 1. toString()
```java
public String toString() {
    return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```
- 返回对象的字符串表示
- 建议所有有属性的类都重写此方法

#### 2. equals()
```java
public boolean equals(Object obj) {
    return (this == obj);
}
```
- 默认比较对象地址
- String类已重写，比较内容

#### 3. hashCode()
```java
public native int hashCode();
```
- 返回对象的哈希码值
- 重写equals()时通常需要重写hashCode()

#### 4. getClass()
```java
public final native Class<?> getClass();
```
- 返回对象的运行时类
- 不可重写

#### 5. clone()
```java
protected native Object clone() throws CloneNotSupportedException;
```
- 创建并返回对象的副本
- 需要实现Cloneable接口

#### 6. finalize()
```java
protected void finalize() throws Throwable
```
- 垃圾回收前调用，用于资源清理
- 不推荐使用

## 包装类

### 基本类型与包装类对应关系

| 基本类型 | 包装类     |
|----------|------------|
| byte     | Byte       |
| short    | Short      |
| int      | Integer    |
| long     | Long       |
| char     | Character  |
| float    | Float      |
| double   | Double     |
| boolean  | Boolean    |

### 自动装箱与拆箱
```java
// 自动装箱
Integer i = 100;  

// 自动拆箱
int j = i;
```

### 常用方法
```java
// 字符串转整数
int num = Integer.parseInt("123");

// 整数转字符串
String str = Integer.toString(123);
String str2 = 123 + "";
```

## Math类

### 常用方法
```java
Math.abs(-5);        // 绝对值: 5
Math.sqrt(16);       // 平方根: 4.0
Math.pow(2, 3);      // 幂运算: 8.0
Math.max(10, 20);    // 最大值: 20
Math.min(10, 20);    // 最小值: 10
Math.round(3.6);     // 四舍五入: 4
Math.ceil(3.2);      // 向上取整: 4.0
Math.floor(3.8);     // 向下取整: 3.0
Math.random();       // 随机数: [0.0, 1.0)
```

## Random类

### 两种使用方式
```java
// 1. Math.random()
double random = Math.random();

// 2. java.util.Random
Random rand = new Random();
int num = rand.nextInt(100);  // 0-99的随机整数
```

### 常用方法
```java
rand.nextBoolean();   // 随机布尔值
rand.nextDouble();    // 随机双精度浮点数
rand.nextFloat();     // 随机单精度浮点数
rand.nextInt();       // 随机整数
rand.nextInt(100);    // 0-99的随机整数
rand.nextLong();      // 随机长整数
```

## 日期时间类

### Date类
```java
Date date = new Date();                  // 当前时间
long time = date.getTime();              // 获取毫秒数
System.out.println(date.toString());     // 格式化输出
```

### SimpleDateFormat
```java
SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
String formatted = sdf.format(new Date());  // 格式化日期
Date date = sdf.parse("2023-01-01 12:00:00"); // 解析字符串
```

### Calendar类
```java
Calendar cal = Calendar.getInstance();
int year = cal.get(Calendar.YEAR);       // 年
int month = cal.get(Calendar.MONTH) + 1; // 月(0-11)
int day = cal.get(Calendar.DATE);        // 日
int hour = cal.get(Calendar.HOUR);       // 时
int minute = cal.get(Calendar.MINUTE);   // 分
int second = cal.get(Calendar.SECOND);   // 秒
```

## String类

### 创建方式
```java
String str1 = "hello";                   // 直接赋值
String str2 = new String("hello");       // 构造方法
```

### 常用方法
```java
// 判断相关
str.equals("hello");                     // 比较内容
str.equalsIgnoreCase("HELLO");           // 忽略大小写比较
str.startsWith("he");                    // 判断开头
str.endsWith("lo");                      // 判断结尾

// 截取相关
str.length();                            // 获取长度
str.charAt(0);                           // 获取指定位置字符
str.indexOf("l");                        // 查找字符位置
str.substring(2);                        // 从指定位置截取
str.substring(2, 4);                     // 截取指定范围

// 转换相关
str.toCharArray();                       // 转为字符数组
str.toUpperCase();                       // 转为大写
str.toLowerCase();                       // 转为小写

// 其他
str.trim();                              // 去除两端空格
str.split(",");                          // 分割字符串
str.replace("a", "b");                   // 替换字符
```

### 字符串常量池
- 直接赋值的字符串会放入常量池
- 相同内容的字符串会共享同一内存地址
- 使用`intern()`方法可以手动入池

## StringBuilder和StringBuffer

### 区别
- **StringBuilder**：非线程安全，性能高
- **StringBuffer**：线程安全，性能较低

### 常用方法
```java
StringBuilder sb = new StringBuilder();

// 追加内容
sb.append("hello");
sb.append(123);
sb.append(true);

// 插入内容
sb.insert(2, "world");

// 删除内容
sb.delete(2, 5);
sb.deleteCharAt(0);

// 替换内容
sb.replace(2, 5, "abc");

// 反转
sb.reverse();

// 获取长度
int length = sb.length();

// 转为字符串
String result = sb.toString();
```

## File类

### 基本用法
```java
File file = new File("test.txt");

// 判断文件属性
file.exists();          // 是否存在
file.isFile();          // 是否是文件
file.isDirectory();     // 是否是目录
file.canRead();         // 是否可读
file.canWrite();        // 是否可写
file.isHidden();        // 是否隐藏

// 获取文件信息
file.getName();         // 获取文件名
file.getPath();         // 获取路径
file.length();          // 获取文件大小
file.lastModified();    // 最后修改时间

// 文件操作
file.createNewFile();   // 创建新文件
file.delete();          // 删除文件
file.mkdir();           // 创建单级目录
file.mkdirs();          // 创建多级目录
```

### 路径分隔符
```java
// 系统相关的路径分隔符
String separator = File.separator;       // "\" (Windows) 或 "/" (Unix)
```

## 总结

| 类别 | 主要类 | 特点 |
|------|--------|------|
| 根类 | Object | 所有类的父类，提供基本方法 |
| 包装类 | Integer等 | 基本类型的对象表示，支持自动装箱拆箱 |
| 数学类 | Math | 提供数学运算的静态方法 |
| 随机数 | Random | 生成各种类型的随机数 |
| 日期时间 | Date/Calendar | 处理日期和时间相关操作 |
| 字符串 | String | 不可变字符串，线程安全 |
| 字符串构建 | StringBuilder | 可变字符串，非线程安全，性能高 |
| 字符串构建 | StringBuffer | 可变字符串，线程安全，性能较低 |
| 文件操作 | File | 文件和目录的抽象表示 |

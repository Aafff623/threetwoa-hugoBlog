# 📘 JavaSE 数组精要笔记

## 1. 数组概述

### 1.1 什么是数组？
- 数组是**相同类型数据的有序集合**
- 每个数据称为**数组元素**，通过下标访问
- 数组下标从 **0** 开始

### 1.2 数组的特点
- ✅ 长度固定，一旦创建不可改变
- ✅ 元素必须是相同类型
- ✅ 可以是基本类型或引用类型
- ✅ 数组本身是对象，存储在堆内存中

---

## 2. 数组的声明与创建

### 2.1 声明数组
```java
// 推荐方式
数据类型[] 数组名;

// 兼容C/C++方式（不推荐）
数据类型 数组名[];
```

**示例：**
```java
int[] numbers;      // 声明整型数组
double[] scores;    // 声明双精度数组
String[] names;     // 声明字符串数组
```

### 2.2 创建数组
```java
// 动态创建
数组名 = new 数据类型[数组长度];

// 声明与创建同时进行
数据类型[] 数组名 = new 数据类型[数组长度];
```

**示例：**
```java
int[] numbers = new int[5];         // 创建长度为5的整型数组
double[] scores = new double[10];   // 创建长度为10的双精度数组
```

### 2.3 数组长度获取
```java
int length = 数组名.length;
```

---

## 3. 数组初始化

### 3.1 静态初始化
```java
// 直接指定元素值
数据类型[] 数组名 = {元素1, 元素2, 元素3, ...};

// 或者
数据类型[] 数组名 = new 数据类型[]{元素1, 元素2, 元素3, ...};
```

**示例：**
```java
int[] numbers = {1, 2, 3, 4, 5};
String[] names = {"张三", "李四", "王五"};
```

### 3.2 动态初始化
```java
数据类型[] 数组名 = new 数据类型[长度];
数组名[0] = 值1;
数组名[1] = 值2;
// ...
```

**示例：**
```java
int[] numbers = new int[3];
numbers[0] = 10;
numbers[1] = 20;
numbers[2] = 30;
```

### 3.3 默认初始化
- 数组是引用类型，元素有默认值
- 数值类型：`0` 或 `0.0`
- 布尔类型：`false`
- 引用类型：`null`

---

## 4. 数组使用

### 4.1 基本操作
```java
public class ArrayExample {
    public static void main(String[] args) {
        double[] myList = {1.9, 2.9, 3.4, 3.5};
        
        // 1. 遍历打印所有元素
        for (int i = 0; i < myList.length; i++) {
            System.out.println(myList[i]);
        }
        
        // 2. 计算总和
        double total = 0;
        for (int i = 0; i < myList.length; i++) {
            total += myList[i];
        }
        System.out.println("总和: " + total);
        
        // 3. 查找最大元素
        double max = myList[0];
        for (int i = 1; i < myList.length; i++) {
            if (myList[i] > max) {
                max = myList[i];
            }
        }
        System.out.println("最大值: " + max);
    }
}
```

### 4.2 For-Each 循环（增强for循环）
```java
for (元素类型 元素变量 : 数组) {
    // 使用元素变量
}
```

**示例：**
```java
double[] myList = {1.9, 2.9, 3.4, 3.5};

// 使用For-Each遍历
for (double element : myList) {
    System.out.println(element);
}
```

### 4.3 数组边界
- 合法下标范围：`[0, array.length-1]`
- 越界访问会抛出：`ArrayIndexOutOfBoundsException`

```java
int[] arr = new int[2];
System.out.println(arr[2]); // 抛出ArrayIndexOutOfBoundsException
```

---

## 5. 多维数组

### 5.1 二维数组声明和初始化
```java
// 声明
数据类型[][] 数组名;

// 创建
数组名 = new 数据类型[行数][列数];

// 静态初始化
数据类型[][] 数组名 = {
    {元素11, 元素12, ...},
    {元素21, 元素22, ...},
    // ...
};
```

**示例：**
```java
// 创建2行3列的二维数组
int[][] matrix = new int[2][3];

// 静态初始化
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6}
};
```

### 5.2 二维数组访问
```java
// 获取行数
int rows = matrix.length;

// 获取第i行的列数
int cols = matrix[i].length;

// 访问元素
int value = matrix[i][j];
```

### 5.3 遍历二维数组
```java
for (int i = 0; i < matrix.length; i++) {
    for (int j = 0; j < matrix[i].length; j++) {
        System.out.print(matrix[i][j] + " ");
    }
    System.out.println();
}
```

---

## 6. Arrays 工具类

### 6.1 常用方法
```java
import java.util.Arrays;

public class ArraysExample {
    public static void main(String[] args) {
        int[] array = {3, 1, 4, 2, 5};
        
        // 1. 数组转字符串
        System.out.println(Arrays.toString(array));
        
        // 2. 排序
        Arrays.sort(array);
        System.out.println("排序后: " + Arrays.toString(array));
        
        // 3. 二分查找（必须先排序）
        int index = Arrays.binarySearch(array, 4);
        System.out.println("元素4的索引: " + index);
        
        // 4. 填充
        int[] filledArray = new int[5];
        Arrays.fill(filledArray, 10);
        System.out.println("填充后: " + Arrays.toString(filledArray));
        
        // 5. 部分填充
        Arrays.fill(filledArray, 1, 3, 99);
        System.out.println("部分填充: " + Arrays.toString(filledArray));
        
        // 6. 数组比较
        int[] array2 = {1, 2, 3, 4, 5};
        boolean isEqual = Arrays.equals(array, array2);
        System.out.println("数组相等: " + isEqual);
    }
}
```

---

## 7. 数组作为方法参数和返回值

### 7.1 数组作为参数
```java
public static void printArray(int[] array) {
    for (int i = 0; i < array.length; i++) {
        System.out.print(array[i] + " ");
    }
    System.out.println();
}

// 调用
int[] numbers = {1, 2, 3, 4, 5};
printArray(numbers);
```

### 7.2 数组作为返回值
```java
// 反转数组
public static int[] reverse(int[] list) {
    int[] result = new int[list.length];
    for (int i = 0, j = result.length - 1; i < list.length; i++, j--) {
        result[j] = list[i];
    }
    return result;
}

// 调用
int[] original = {1, 2, 3, 4, 5};
int[] reversed = reverse(original);
```

---

## 8. 常见排序算法

### 8.1 冒泡排序
```java
public class BubbleSort {
    public static void bubbleSort(int[] array) {
        int temp = 0;
        for (int i = 0; i < array.length - 1; i++) {
            boolean flag = false; // 优化标志
            for (int j = 0; j < array.length - 1 - i; j++) {
                if (array[j] > array[j + 1]) {
                    // 交换元素
                    temp = array[j];
                    array[j] = array[j + 1];
                    array[j + 1] = temp;
                    flag = true;
                }
            }
            if (!flag) break; // 如果没有交换，说明已经有序
        }
    }
}
```

### 8.2 选择排序
```java
public class SelectionSort {
    public static void selectionSort(int[] array) {
        for (int i = 0; i < array.length - 1; i++) {
            int minIndex = i;
            for (int j = i + 1; j < array.length; j++) {
                if (array[j] < array[minIndex]) {
                    minIndex = j;
                }
            }
            // 交换元素
            if (minIndex != i) {
                int temp = array[i];
                array[i] = array[minIndex];
                array[minIndex] = temp;
            }
        }
    }
}
```

---

## 9. 稀疏数组（了解概念）

### 9.1 稀疏数组应用场景
- 处理大量默认值（如0）的数组
- 节省存储空间
- 常用于棋盘、地图等数据的存储

### 9.2 稀疏数组结构
```
稀疏数组三列：
第0行：原始数组行数、列数、非默认值个数
第1行：第一个非默认值的行、列、值
第2行：第二个非默认值的行、列、值
...
```

---
